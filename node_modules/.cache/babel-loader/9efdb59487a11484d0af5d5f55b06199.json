{"ast":null,"code":"import _objectWithoutProperties from \"/home/raha/projects/Reactjs/Restaurants/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"/home/raha/projects/Reactjs/Restaurants/src/routes.js\";\nimport React from 'react';\nimport { Redirect } from \"react-router-dom\";\nimport { Route } from 'react-router-dom';\nimport { isUserAuthenticated, getLoggedInUser } from './helpers/authUtils'; // lazy load all the views\n\nvar Dashboard = React.lazy(function () {\n  return import('./pages/Dashboard');\n}); // auth\n\nvar Login = React.lazy(function () {\n  return import('./pages/auth/Login');\n});\nvar Logout = React.lazy(function () {\n  return import('./pages/auth/Logout');\n});\nvar ForgetPassword = React.lazy(function () {\n  return import('./pages/account/ForgetPassword');\n});\nvar Register = React.lazy(function () {\n  return import('./pages/account/Register');\n});\nvar ConfirmAccount = React.lazy(function () {\n  return import('./pages/account/Confirm');\n});\nvar LevelPage = React.lazy(function () {\n  return import('./pages/KrdPages/Level');\n}); // handle auth and authorization\n\nvar PrivateRoute = function PrivateRoute(_ref) {\n  var Component = _ref.component,\n      roles = _ref.roles,\n      rest = _objectWithoutProperties(_ref, [\"component\", \"roles\"]);\n\n  return React.createElement(Route, Object.assign({}, rest, {\n    render: function render(props) {\n      var isAuthTokenValid = isUserAuthenticated();\n\n      if (!isAuthTokenValid) {\n        // not logged in so redirect to login page with the return url\n        return React.createElement(Redirect, {\n          to: {\n            pathname: '/login',\n            state: {\n              from: props.location\n            }\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 25\n          },\n          __self: this\n        });\n      }\n\n      var loggedInUser = getLoggedInUser(); // check if route is restricted by role\n\n      if (roles && roles.indexOf(loggedInUser.role) === -1) {\n        // role not authorised so redirect to home page\n        return React.createElement(Redirect, {\n          to: {\n            pathname: '/'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 32\n          },\n          __self: this\n        });\n      } // authorised so return component\n\n\n      return React.createElement(Component, Object.assign({}, props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }));\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21\n    },\n    __self: this\n  }));\n};\n\nvar routes = [// auth and account\n{\n  path: '/login',\n  name: 'Login',\n  component: Login,\n  route: Route\n}, {\n  path: '/logout',\n  name: 'Logout',\n  component: Logout,\n  route: Route\n}, {\n  path: '/forget-password',\n  name: 'Forget Password',\n  component: ForgetPassword,\n  route: Route\n}, {\n  path: '/register',\n  name: 'Register',\n  component: Register,\n  route: Route\n}, {\n  path: '/confirm',\n  name: 'Confirm',\n  component: ConfirmAccount,\n  route: Route\n}, // other pages\n{\n  path: '/dashboard',\n  name: 'Dashboard',\n  component: Dashboard,\n  route: PrivateRoute,\n  roles: ['Admin'],\n  title: 'Dashboard'\n}, {\n  path: \"/\",\n  exact: true,\n  component: function component() {\n    return React.createElement(Redirect, {\n      to: \"/dashboard\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    });\n  },\n  route: PrivateRoute\n}, {\n  path: '/level',\n  name: 'Level',\n  component: Dashboard,\n  route: PrivateRoute,\n  roles: ['Admin'],\n  title: 'Level'\n}];\nexport { routes, PrivateRoute };","map":{"version":3,"sources":["/home/raha/projects/Reactjs/Restaurants/src/routes.js"],"names":["React","Redirect","Route","isUserAuthenticated","getLoggedInUser","Dashboard","lazy","Login","Logout","ForgetPassword","Register","ConfirmAccount","LevelPage","PrivateRoute","Component","component","roles","rest","props","isAuthTokenValid","pathname","state","from","location","loggedInUser","indexOf","role","routes","path","name","route","title","exact"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Redirect } from \"react-router-dom\";\nimport { Route } from 'react-router-dom';\n\nimport { isUserAuthenticated, getLoggedInUser } from './helpers/authUtils';\n\n// lazy load all the views\nconst Dashboard = React.lazy(() => import('./pages/Dashboard'));\n\n// auth\nconst Login = React.lazy(() => import('./pages/auth/Login'));\nconst Logout = React.lazy(() => import('./pages/auth/Logout'));\nconst ForgetPassword = React.lazy(() => import('./pages/account/ForgetPassword'));\nconst Register = React.lazy(() => import('./pages/account/Register'));\nconst ConfirmAccount = React.lazy(() => import('./pages/account/Confirm'));\nconst LevelPage = React.lazy(() => import('./pages/KrdPages/Level') ) ;\n\n// handle auth and authorization\n\nconst PrivateRoute = ({ component: Component, roles, ...rest }) => (\n  <Route {...rest} render={props => {\n    const isAuthTokenValid = isUserAuthenticated();\n    if (!isAuthTokenValid) {\n      // not logged in so redirect to login page with the return url\n      return <Redirect to={{ pathname: '/login', state: { from: props.location } }} />\n    }\n\n    const loggedInUser = getLoggedInUser();\n    // check if route is restricted by role\n    if (roles && roles.indexOf(loggedInUser.role) === -1) {\n      // role not authorised so redirect to home page\n      return <Redirect to={{ pathname: '/' }} />\n    }\n\n    // authorised so return component\n    return <Component {...props} />\n  }} />\n)\n\nconst routes = [\n  // auth and account\n  { path: '/login', name: 'Login', component: Login, route: Route },\n  { path: '/logout', name: 'Logout', component: Logout, route: Route },\n  { path: '/forget-password', name: 'Forget Password', component: ForgetPassword, route: Route },\n  { path: '/register', name: 'Register', component: Register, route: Route },\n  { path: '/confirm', name: 'Confirm', component: ConfirmAccount, route: Route },\n\n  // other pages\n  { path: '/dashboard', name: 'Dashboard', component:Dashboard, route: PrivateRoute, roles: ['Admin'], title: 'Dashboard' },\n  {\n    path: \"/\",\n    exact: true,\n    component: () => <Redirect to=\"/dashboard\" />,\n    route: PrivateRoute\n  },\n  { path: '/level', name: 'Level', component:Dashboard, route: PrivateRoute, roles: ['Admin'], title: 'Level' }\n\n  \n]\n\nexport { routes, PrivateRoute };"]},"metadata":{},"sourceType":"module"}